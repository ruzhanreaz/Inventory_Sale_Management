<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import javafx.collections.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<StackPane prefHeight="800.0" prefWidth="1000.0" styleClass="main-container" stylesheets="@styles.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.demo.controllers.UserController">
    <VBox alignment="TOP_CENTER" spacing="16.0">
        <padding>
            <Insets bottom="24" left="32" right="32" top="24" />
        </padding>

        <!-- Title -->
        <Label styleClass="title-label" text="User Management" />

        <!-- Form: GridPane for clean alignment -->
        <GridPane hgap="12" prefWidth="920.0" vgap="10">
            <columnConstraints>
                <ColumnConstraints halignment="RIGHT" minWidth="100" />
                <ColumnConstraints halignment="LEFT" minWidth="220" />
                <ColumnConstraints halignment="RIGHT" minWidth="100" />
                <ColumnConstraints halignment="LEFT" minWidth="180" />
            </columnConstraints>

            <children>
                <Label styleClass="field-label" text="Name:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                <TextField fx:id="nameField" prefWidth="220" promptText="Full name" styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                <Label styleClass="field-label" text="Role:" GridPane.columnIndex="2" GridPane.rowIndex="0" />
                <ComboBox fx:id="roleComboBox" prefWidth="180" styleClass="text-field" GridPane.columnIndex="3" GridPane.rowIndex="0">
                    <items>
                        <FXCollections fx:factory="observableArrayList">
                            <String fx:value="admin" />
                            <String fx:value="employee" />
                        </FXCollections>
                    </items>
                </ComboBox>

                <Label styleClass="field-label" text="Email:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                <TextField fx:id="emailField" prefWidth="220" promptText="email@example.com" styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                <Label styleClass="field-label" text="Password:" GridPane.columnIndex="2" GridPane.rowIndex="1" />
                <PasswordField fx:id="passwordField" prefHeight="31.0" prefWidth="177.0" promptText="Set a password" styleClass="text-field" GridPane.columnIndex="3" GridPane.rowIndex="1" />
            </children>
         <rowConstraints>
            <RowConstraints />
            <RowConstraints />
         </rowConstraints>
        </GridPane>

        <!-- Users table -->
        <TableView fx:id="userTable" prefHeight="568.0" prefWidth="936.0" styleClass="table-view">
            <placeholder>
                <Label text="No users available" />
            </placeholder>
            <columns>
                <TableColumn fx:id="nameColumn" prefWidth="300.0" text="Name" />
                <TableColumn fx:id="emailColumn" prefWidth="380.0" text="Email" />
                <TableColumn fx:id="roleColumn" prefWidth="240.0" text="Role" />
            </columns>
        </TableView>

        <!-- Bottom action buttons (match other admin views) -->
        <HBox alignment="CENTER" prefHeight="73.0" prefWidth="920.0" spacing="10.0">
            <children>
                <Button fx:id="addButton" onAction="#handleAddUser" prefHeight="36.0" prefWidth="120.0" styleClass="button-green" text="Add" />
                <Button fx:id="saveButton" onAction="#handleSaveUser" prefHeight="32.0" prefWidth="120.0" styleClass="button-blue" text="Save" />
                <Button fx:id="deleteButton" onAction="#handleDeleteUser" prefHeight="32.0" prefWidth="120.0" styleClass="button-red" text="Delete" />
                <Button fx:id="backButton" onAction="#handleBack" prefHeight="32.0" prefWidth="120.0" styleClass="button-red" text="Back" />
            </children>
        </HBox>

    </VBox>
</StackPane>
